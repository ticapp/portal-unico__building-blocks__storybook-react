import { Meta } from '@storybook/addon-docs';

<Meta title="Hooks/Use Sort Table Data/Use Sort Table Data Docs" />

<h1 className="mb-32">
  <u>Use Sort Table Data</u>
</h1>

<h2>Description</h2>

<p className="fs-16">
  Hook to sort table data with help of other hook, usePaginationData, to update correctly on the same page has requested the sort.
</p>
<p className="fs-16">
  For this hook we need an array of data organized by usePaginationData, that give us startindex and endindex to help return the values on
  that position after sorted. The useSortTableData return the sortable items, a requestSort that toggle the direction of sorting, and
  sortConfig to know wich table header and direction clicked before.
</p>

<h2>Hook usage</h2>

```tsx
import { usePaginationData } from '@ama/react-design-system';
import { useSortTableData } from '@ama/react-design-system';

const dummyComponent = () => {
  const data = [
    {
      entity: 'Instituto dos Registos e Notariado',
      dataType: 'Completos',
      lastAccess: '29/05/2002-14:36'
    },
    {
      entity: 'Segurança Social',
      dataType: 'Completos',
      lastAccess: '29/05/2002-14:36'
    },
    {
      entity: 'Banco de Portugal',
      dataType: 'Completos',
      lastAccess: '29/05/2002-14:36'
    },
    {
      entity: 'Instituto do Emprego e Formação Profissional',
      dataType: 'Completos',
      lastAccess: '29/05/2002-14:36'
    }
  ];
  const pageData = usePaginationData(5, data);
  const { items, requestSort, sortConfig } = useSortTableData(data, data, pageData, null);

  return (
    <>
      <p>Items/Sorted items: {JSON.stringify(items)}</p>
      <button
        type="button"
        onClick={() => {
          requestSort('entity');
        }}
      >
        Sort by entity
      </button>
      <p>Direction: {sortConfig?.direction}</p>
    </>
  );
};
```
